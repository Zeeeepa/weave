"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3036],{72187:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>c,metadata:()=>d,toc:()=>u});var n=t(85893),l=t(11151),i=t(65488),r=t(85162);const c={},s="Feedback",d={id:"guides/tracking/feedback",title:"Feedback",description:"Evaluating LLM applications automatically is challenging. Teams often rely on direct user feedback, particularly from domain experts, who assess the content quality using simple indicators such as thumbs up or down. Developers also actively identify and resolve content issues.",source:"@site/docs/guides/tracking/feedback.md",sourceDirName:"guides/tracking",slug:"/guides/tracking/feedback",permalink:"/guides/tracking/feedback",draft:!1,unlisted:!1,editUrl:"https://github.com/wandb/weave/blob/master/docs/docs/guides/tracking/feedback.md",tags:[],version:"current",lastUpdatedAt:1730851467e3,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Datasets",permalink:"/guides/core-types/datasets"},next:{title:"Costs",permalink:"/guides/tracking/costs"}},o={},u=[{value:"View and Add Feedback within UI",id:"view-and-add-feedback-within-ui",level:2},{value:"SDK",id:"sdk",level:2},{value:"Querying a project&#39;s feedback",id:"querying-a-projects-feedback",level:3},{value:"Adding feedback to a call",id:"adding-feedback-to-a-call",level:3},{value:"Retrieving the Call UUID",id:"retrieving-the-call-uuid",level:3},{value:"Querying feedback on a call",id:"querying-feedback-on-a-call",level:3},{value:"Deleting feedback from a call",id:"deleting-feedback-from-a-call",level:3}];function p(e){const a={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,l.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h1,{id:"feedback",children:"Feedback"}),"\n",(0,n.jsx)(a.p,{children:"Evaluating LLM applications automatically is challenging. Teams often rely on direct user feedback, particularly from domain experts, who assess the content quality using simple indicators such as thumbs up or down. Developers also actively identify and resolve content issues."}),"\n",(0,n.jsx)(a.p,{children:"Weave's feedback feature enables users to provide feedback directly within the Weave UI or through the API. You can add emoji reactions, textual notes, and structured data to calls. This feedback helps compile evaluation datasets, monitor application performance, and collect examples for advanced tasks like fine-tuning."}),"\n",(0,n.jsx)(a.h2,{id:"view-and-add-feedback-within-ui",children:"View and Add Feedback within UI"}),"\n",(0,n.jsx)(a.p,{children:"Reactions and notes are displayed in a column in the calls grid. Hovering over these indicators provides more detail. Use these buttons to add reactions or notes."}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"Screenshot of calls grid with feedback column",src:t(60181).Z+"",width:"3170",height:"1589"})}),"\n",(0,n.jsx)(a.p,{children:"View and edit feedback in the header of the call details page."}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"Screenshot of feedback controls in call details header",src:t(227).Z+"",width:"1276",height:"354"})}),"\n",(0,n.jsx)(a.p,{children:'View the feedback for a call on the "Feedback" tab of the call details page.'}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"Screenshot of Feedback tab in call details",src:t(35570).Z+"",width:"1266",height:"548"})}),"\n",(0,n.jsx)(a.p,{children:'Access copy-and-paste examples on the "Use" tab of the call details page to manipulate the feedback for that call using the SDK.'}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"Screenshot of Use tab in call details",src:t(22421).Z+"",width:"1270",height:"970"})}),"\n",(0,n.jsx)(a.h2,{id:"sdk",children:"SDK"}),"\n",(0,n.jsx)(a.p,{children:"Use the Weave SDK to programmatically add, remove, and query feedback on calls."}),"\n",(0,n.jsx)(a.h3,{id:"querying-a-projects-feedback",children:"Querying a project's feedback"}),"\n",(0,n.jsxs)(i.Z,{groupId:"programming-language",children:[(0,n.jsx)(r.default,{value:"python",label:"Python",default:!0,children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'import weave\nclient = weave.init(\'intro-example\')\n\n# Get all feedback in a project\nall_feedback = client.get_feedback()\n\n# Fetch a specific feedback object by id.\n# Note that the API still returns a collection, which is expected\n# to contain zero or one item(s).\none_feedback = client.get_feedback("<feedback_uuid>")[0]\n\n# Find all feedback objects with a specific reaction. You can specify offset and limit.\nthumbs_up = client.get_feedback(reaction="\ud83d\udc4d", limit=10)\n\n# After retrieval you can view the details of individual feedback objects.\nfor f in client.get_feedback():\n    print(f.id)\n    print(f.created_at)\n    print(f.feedback_type)\n    print(f.payload)\n'})})}),(0,n.jsx)(r.default,{value:"typescript",label:"TypeScript",children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-plaintext",children:"This feature is not available in TypeScript yet.  Stay tuned!\n"})})})]}),"\n",(0,n.jsx)(a.h3,{id:"adding-feedback-to-a-call",children:"Adding feedback to a call"}),"\n",(0,n.jsxs)(i.Z,{groupId:"programming-language",children:[(0,n.jsx)(r.default,{value:"python",label:"Python",default:!0,children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'import weave\nclient = weave.init(\'intro-example\')\n\ncall = client.get_call("<call_uuid>")\n\n# Adding an emoji reaction\ncall.feedback.add_reaction("\ud83d\udc4d")\n\n# Adding a note\ncall.feedback.add_note("this is a note")\n\n# Adding custom key/value pairs.\n# The first argument is a user-defined "type" string.\n# Feedback must be JSON serializable and less than 1kb when serialized.\ncall.feedback.add("correctness", { "value": 5 })\n'})})}),(0,n.jsx)(r.default,{value:"typescript",label:"TypeScript",children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-plaintext",children:"This feature is not available in TypeScript yet.  Stay tuned!\n"})})})]}),"\n",(0,n.jsx)(a.h3,{id:"retrieving-the-call-uuid",children:"Retrieving the Call UUID"}),"\n",(0,n.jsx)(a.p,{children:"For scenarios where you need to add feedback immediately after a call, you can retrieve the call UUID programmatically during or after the call execution. Here is how to get the UUID of the call from within the operation:"}),"\n",(0,n.jsxs)(i.Z,{groupId:"programming-language",children:[(0,n.jsx)(r.default,{value:"python",label:"Python",default:!0,children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'\nimport weave\nweave.init("uuid")\n\n@weave.op()\ndef simple_operation(input_value):\n    # Perform some simple operation\n    output = f"Processed {input_value}"\n    # Get the current call ID\n    current_call = weave.require_current_call()\n    call_id = current_call.id\n    return output, call_id\n'})})}),(0,n.jsx)(r.default,{value:"typescript",label:"TypeScript",children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-plaintext",children:"This feature is not available in TypeScript yet.  Stay tuned!\n"})})})]}),"\n",(0,n.jsx)(a.p,{children:"Additionally, you can use call() method to execute the operation and retrieve the call ID after execution of the function:"}),"\n",(0,n.jsxs)(i.Z,{groupId:"programming-language",children:[(0,n.jsx)(r.default,{value:"python",label:"Python",default:!0,children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'import weave\nweave.init("uuid")\n\n@weave.op()\ndef simple_operation(input_value):\n    return f"Processed {input_value}"\n\n# Execute the operation and retrieve the result and call ID\nresult, call = simple_operation.call("example input")\ncall_id = call.id\n'})})}),(0,n.jsx)(r.default,{value:"typescript",label:"TypeScript",children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-plaintext",children:"This feature is not available in TypeScript yet.  Stay tuned!\n"})})})]}),"\n",(0,n.jsx)(a.h3,{id:"querying-feedback-on-a-call",children:"Querying feedback on a call"}),"\n",(0,n.jsxs)(i.Z,{groupId:"programming-language",children:[(0,n.jsx)(r.default,{value:"python",label:"Python",default:!0,children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"for f in call.feedback:\n    print(f.id)\n    print(f.feedback_type)\n    print(f.payload)\n"})})}),(0,n.jsx)(r.default,{value:"typescript",label:"TypeScript",children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-plaintext",children:"This feature is not available in TypeScript yet.  Stay tuned!\n"})})})]}),"\n",(0,n.jsx)(a.h3,{id:"deleting-feedback-from-a-call",children:"Deleting feedback from a call"}),"\n",(0,n.jsxs)(i.Z,{groupId:"programming-language",children:[(0,n.jsx)(r.default,{value:"python",label:"Python",default:!0,children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'call.feedback.purge("<feedback_uuid>")\n'})})}),(0,n.jsx)(r.default,{value:"typescript",label:"TypeScript",children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-plaintext",children:"This feature is not available in TypeScript yet.  Stay tuned!\n"})})})]})]})}function h(e={}){const{wrapper:a}={...(0,l.a)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},85162:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});t(67294);var n=t(90512);const l={tabItem:"tabItem_Ymn6"};var i=t(85893);function r(e){let{children:a,hidden:t,className:r}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,n.Z)(l.tabItem,r),hidden:t,children:a})}},65488:(e,a,t)=>{t.d(a,{Z:()=>h});var n=t(67294),l=t(90512),i=t(12466),r=t(70989),c=t(72389);const s={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var d=t(85893);function o(e){let{className:a,block:t,selectedValue:n,selectValue:r,tabValues:c}=e;const o=[],{blockElementScrollPositionUntilNextRender:u}=(0,i.o5)(),p=e=>{const a=e.currentTarget,t=o.indexOf(a),l=c[t].value;l!==n&&(u(a),r(l))},h=e=>{let a=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;a=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;a=o[t]??o[o.length-1];break}}a?.focus()};return(0,d.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":t},a),children:c.map((e=>{let{value:a,label:t,attributes:i}=e;return(0,d.jsx)("li",{role:"tab",tabIndex:n===a?0:-1,"aria-selected":n===a,ref:e=>o.push(e),onKeyDown:h,onClick:p,...i,className:(0,l.Z)("tabs__item",s.tabItem,i?.className,{"tabs__item--active":n===a}),children:t??a},a)}))})}function u(e){let{lazy:a,children:t,selectedValue:l}=e;const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(a){const e=i.find((e=>e.props.value===l));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,d.jsx)("div",{className:"margin-top--md",children:i.map(((e,a)=>(0,n.cloneElement)(e,{key:a,hidden:e.props.value!==l})))})}function p(e){const a=(0,r.Y)(e);return(0,d.jsxs)("div",{className:(0,l.Z)("tabs-container",s.tabList),children:[(0,d.jsx)(o,{...a,...e}),(0,d.jsx)(u,{...a,...e})]})}function h(e){const a=(0,c.default)();return(0,d.jsx)(p,{...e,children:(0,r.h)(e.children)},String(a))}},70989:(e,a,t)=>{t.d(a,{Y:()=>h,h:()=>d});var n=t(67294),l=t(16550),i=t(20469),r=t(91980),c=t(67392),s=t(20812);function d(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function o(e){const{values:a,children:t}=e;return(0,n.useMemo)((()=>{const e=a??function(e){return d(e).map((e=>{let{props:{value:a,label:t,attributes:n,default:l}}=e;return{value:a,label:t,attributes:n,default:l}}))}(t);return function(e){const a=(0,c.l)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,t])}function u(e){let{value:a,tabValues:t}=e;return t.some((e=>e.value===a))}function p(e){let{queryString:a=!1,groupId:t}=e;const i=(0,l.k6)(),c=function(e){let{queryString:a=!1,groupId:t}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:a,groupId:t});return[(0,r._X)(c),(0,n.useCallback)((e=>{if(!c)return;const a=new URLSearchParams(i.location.search);a.set(c,e),i.replace({...i.location,search:a.toString()})}),[c,i])]}function h(e){const{defaultValue:a,queryString:t=!1,groupId:l}=e,r=o(e),[c,d]=(0,n.useState)((()=>function(e){let{defaultValue:a,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!u({value:a,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:a,tabValues:r}))),[h,f]=p({queryString:t,groupId:l}),[b,g]=function(e){let{groupId:a}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(a),[l,i]=(0,s.Nk)(t);return[l,(0,n.useCallback)((e=>{t&&i.set(e)}),[t,i])]}({groupId:l}),m=(()=>{const e=h??b;return u({value:e,tabValues:r})?e:null})();(0,i.Z)((()=>{m&&d(m)}),[m]);return{selectedValue:c,selectValue:(0,n.useCallback)((e=>{if(!u({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);d(e),f(e),g(e)}),[f,g,r]),tabValues:r}}},227:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/feedback_call_header-4860da90c10fd414ca3a8380116d8322.png"},60181:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/feedback_calls-7185aaa5f8c703b00f8272ed8ff4eb02.png"},35570:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/feedback_tab-8158b2e4dc0ccf550466ba83f915a66a.png"},22421:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/feedback_use-0bceef665c918e317a1be4a07fe92faf.png"},11151:(e,a,t)=>{t.d(a,{Z:()=>c,a:()=>r});var n=t(67294);const l={},i=n.createContext(l);function r(e){const a=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function c(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),n.createElement(i.Provider,{value:a},e.children)}}}]);